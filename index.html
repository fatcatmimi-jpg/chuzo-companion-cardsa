<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‡ºèµ°ï½œé™ªè¡Œå¡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: linear-gradient(180deg, #f8f4ef 0%, #f5ede3 50%, #f0e6d9 100%);
            position: relative;
            overflow-x: hidden;
        }
        
        /* æµ®å‹•è£é£¾åœ“é» */
        .floating-dots {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .dot {
            position: absolute;
            border-radius: 50%;
            opacity: 0.3;
        }
        
        .dot:nth-child(1) { width: 20px; height: 20px; background: #d4c4a8; top: 10%; left: 5%; }
        .dot:nth-child(2) { width: 35px; height: 35px; background: #e8dcc8; top: 20%; right: 10%; }
        .dot:nth-child(3) { width: 15px; height: 15px; background: #c9b896; top: 40%; left: 8%; }
        .dot:nth-child(4) { width: 25px; height: 25px; background: #ddd0b8; top: 60%; right: 5%; }
        .dot:nth-child(5) { width: 30px; height: 30px; background: #e5d8c4; top: 75%; left: 12%; }
        .dot:nth-child(6) { width: 18px; height: 18px; background: #d0c0a0; top: 85%; right: 15%; }
        .dot:nth-child(7) { width: 22px; height: 22px; background: #e0d4c0; top: 30%; right: 3%; }
        .dot:nth-child(8) { width: 28px; height: 28px; background: #d8c8b0; top: 50%; left: 3%; }
        
        .container {
            max-width: 450px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 1;
        }
        
        /* ä¸»å¡ç‰‡å®¹å™¨ */
        .main-card {
            background: rgba(255, 255, 255, 0.85);
            border-radius: 30px;
            padding: 35px 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        }
        
        h1 {
            text-align: center;
            color: #8b7b6b;
            font-size: 2rem;
            font-weight: 500;
            letter-spacing: 8px;
            margin-bottom: 8px;
        }
        
        .subtitle {
            text-align: center;
            color: #b8a890;
            font-size: 0.95rem;
            margin-bottom: 20px;
        }
        
        /* å®Œæ•´ç‰ˆæŒ‰éˆ• */
        .full-version-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(135deg, #c9a868 0%, #b8956a 100%);
            color: white;
            border: none;
            padding: 12px 28px;
            border-radius: 25px;
            font-size: 0.95rem;
            cursor: pointer;
            margin: 0 auto 25px;
            transition: all 0.3s ease;
        }
        
        .full-version-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(185, 150, 100, 0.3);
        }
        
        .full-version-btn::before {
            content: "ğŸƒ";
        }
        
        /* æŠ½ç‰ŒæŒ‰éˆ•çµ„ */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .draw-btn {
            background: linear-gradient(135deg, #b8c8c0 0%, #9db8a8 100%);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 2px;
        }
        
        .draw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(157, 184, 168, 0.4);
        }
        
        .draw-btn.three-card {
            background: linear-gradient(135deg, #c8c0b0 0%, #b8a898 100%);
        }
        
        .draw-btn.three-card:hover {
            box-shadow: 0 5px 20px rgba(184, 168, 152, 0.4);
        }
        
        /* ç‰Œå¡é¡¯ç¤ºå€ */
        .cards-display {
            display: none;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .cards-display.show {
            display: flex;
        }
        
        .card-slot {
            text-align: center;
        }
        
        .card-label {
            color: #b8a890;
            font-size: 0.85rem;
            margin-bottom: 8px;
        }
        
        .card-wrapper {
            width: 100px;
            height: 145px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .card-wrapper.single {
            width: 150px;
            height: 218px;
        }
        
        .card-inner {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s ease;
        }
        
        .card-wrapper.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }
        
        .card-back {
            background: linear-gradient(145deg, #c9b896, #a89878);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #8b7b5a;
        }
        
        .card-back::before {
            content: "âœ¦";
            font-size: 30px;
            color: rgba(255, 255, 255, 0.4);
        }
        
        .card-wrapper.single .card-back::before {
            font-size: 45px;
        }
        
        .card-front {
            transform: rotateY(180deg);
            background: white;
        }
        
        .card-front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .card-number {
            color: #b8a890;
            font-size: 0.85rem;
            margin-top: 8px;
        }
        
        /* è§£è®€çµæœå€ */
        .reading-result {
            display: none;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 25px 20px;
            margin-bottom: 20px;
        }
        
        .reading-result.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .reading-item {
            padding: 15px 0;
            border-bottom: 1px solid #e8e0d5;
        }
        
        .reading-item:last-child {
            border-bottom: none;
        }
        
        .reading-position {
            color: #c9a868;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        
        .reading-name {
            color: #6b5b4f;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .reading-quote {
            color: #8b7b6b;
            font-size: 0.95rem;
            line-height: 1.6;
            font-style: italic;
        }
        
        /* é‡æ–°æŠ½ç‰ŒæŒ‰éˆ• */
        .reset-btn {
            display: none;
            background: transparent;
            color: #8b7b6b;
            border: 1.5px solid #c9b896;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 0.9rem;
            cursor: pointer;
            margin: 0 auto;
            transition: all 0.3s ease;
        }
        
        .reset-btn.show {
            display: block;
        }
        
        .reset-btn:hover {
            background: #c9b896;
            color: white;
        }
        
        /* å°æé†’ */
        .tip-box {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .tip-box::before {
            content: "ğŸ’¡";
            font-size: 1.1rem;
        }
        
        .tip-box p {
            color: #8b7b6b;
            font-size: 0.85rem;
            line-height: 1.5;
        }
        
        /* é å°¾ */
        .footer {
            text-align: center;
            color: #b8a890;
            font-size: 0.85rem;
            margin-top: 10px;
        }
        
        .footer .studio {
            margin-bottom: 5px;
        }
        
        /* å®Œæ•´ç‰ˆå½ˆçª— */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: #f8f4ef;
            border-radius: 25px;
            width: 100%;
            max-width: 500px;
            max-height: 85vh;
            overflow-y: auto;
            padding: 25px;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            color: #6b5b4f;
            font-size: 1.3rem;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #8b7b6b;
            cursor: pointer;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .grid-card {
            aspect-ratio: 7/12;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .grid-card:hover {
            transform: scale(1.05);
        }
        
        .grid-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* å–®ç‰Œè©³æƒ…å½ˆçª— */
        .card-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 200;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .card-detail-modal.show {
            display: flex;
        }
        
        .card-detail-content {
            background: #f8f4ef;
            border-radius: 25px;
            width: 100%;
            max-width: 350px;
            padding: 25px;
            text-align: center;
        }
        
        .detail-card-img {
            width: 180px;
            height: auto;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }
        
        .detail-name {
            color: #6b5b4f;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .detail-quote {
            color: #8b7b6b;
            font-size: 0.95rem;
            line-height: 1.6;
            font-style: italic;
        }
        
        .detail-close-btn {
            margin-top: 20px;
            background: #c9b896;
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- æµ®å‹•è£é£¾ -->
    <div class="floating-dots">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
    
    <div class="container">
        <div class="main-card">
            <h1>å‡ºèµ°ï½œé™ªè¡Œå¡</h1>
            <p class="subtitle">44å¼µç‰Œï¼Œ44ç¨®é™ªä¼´</p>
            
            <button class="full-version-btn" onclick="openFullVersion()">å®Œæ•´ç‰ˆï¼ˆ44å¼µï¼‰</button>
            
            <div class="btn-group">
                <button class="draw-btn" onclick="drawSingle()">å–®æŠ½ä¸€å¼µ</button>
                <button class="draw-btn three-card" onclick="drawThree()">ä¸‰ç‰Œé™£</button>
            </div>
            
            <!-- å–®å¼µç‰Œé¡¯ç¤º -->
            <div class="cards-display" id="singleDisplay">
                <div class="card-slot">
                    <div class="card-wrapper single" id="singleCard">
                        <div class="card-inner">
                            <div class="card-face card-back"></div>
                            <div class="card-face card-front">
                                <img id="singleImg" src="" alt="">
                            </div>
                        </div>
                    </div>
                    <p class="card-number" id="singleNumber"></p>
                </div>
            </div>
            
            <!-- ä¸‰ç‰Œé™£é¡¯ç¤º -->
            <div class="cards-display" id="threeDisplay">
                <div class="card-slot">
                    <p class="card-label">å•é¡Œ</p>
                    <div class="card-wrapper" id="card1">
                        <div class="card-inner">
                            <div class="card-face card-back"></div>
                            <div class="card-face card-front">
                                <img id="img1" src="" alt="">
                            </div>
                        </div>
                    </div>
                    <p class="card-number" id="num1"></p>
                </div>
                <div class="card-slot">
                    <p class="card-label">å»ºè­°</p>
                    <div class="card-wrapper" id="card2">
                        <div class="card-inner">
                            <div class="card-face card-back"></div>
                            <div class="card-face card-front">
                                <img id="img2" src="" alt="">
                            </div>
                        </div>
                    </div>
                    <p class="card-number" id="num2"></p>
                </div>
                <div class="card-slot">
                    <p class="card-label">è¡Œå‹•å¾Œèµ°å‘</p>
                    <div class="card-wrapper" id="card3">
                        <div class="card-inner">
                            <div class="card-face card-back"></div>
                            <div class="card-face card-front">
                                <img id="img3" src="" alt="">
                            </div>
                        </div>
                    </div>
                    <p class="card-number" id="num3"></p>
                </div>
            </div>
            
            <!-- è§£è®€çµæœ -->
            <div class="reading-result" id="readingResult"></div>
            
            <!-- é‡æ–°æŠ½ç‰ŒæŒ‰éˆ• -->
            <button class="reset-btn" id="resetBtn" onclick="resetAll()">é‡æ–°æŠ½ç‰Œ</button>
            
            <div class="tip-box">
                <p>å°æé†’ï¼šå»ºè­°å°‡æ­¤é é¢åŠ å…¥æ›¸ç±¤ï¼Œæ–¹ä¾¿æ¯æ—¥å¿«é€Ÿé–‹å•ŸæŠ½ç‰Œã€‚</p>
            </div>
            
            <div class="footer">
                <p class="studio">é›ç‹—äººå·¥ä½œå®¤ âœ¦ ä½œè€…ï¼šç„æ›‰</p>
                <p>æ„Ÿè¬æ‚¨çš„è³¼è²·èˆ‡æ”¯æŒ â™¡</p>
            </div>
        </div>
    </div>
    
    <!-- å®Œæ•´ç‰ˆå½ˆçª— -->
    <div class="modal" id="fullModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">å®Œæ•´ç‰ˆï¼ˆ44å¼µï¼‰</h2>
                <button class="close-btn" onclick="closeFullVersion()">âœ•</button>
            </div>
            <div class="cards-grid" id="cardsGrid"></div>
        </div>
    </div>
    
    <!-- å–®ç‰Œè©³æƒ…å½ˆçª— -->
    <div class="card-detail-modal" id="detailModal">
        <div class="card-detail-content">
            <img class="detail-card-img" id="detailImg" src="" alt="">
            <p class="detail-name" id="detailName"></p>
            <p class="detail-quote" id="detailQuote"></p>
            <button class="detail-close-btn" onclick="closeDetail()">é—œé–‰</button>
        </div>
    </div>
    
    <script>
        const cards = [
            { num: "01", name: "ç„¡è²çš„é¤æ¡Œ", quote: "é›¢é–‹é‚£äº›è®“ä½ æ„Ÿåˆ°å­¤ç¨çš„äººç¾¤ï¼Œé‚£ä¸æ˜¯å­¤å–®ï¼Œæ˜¯è‡ªç”±ã€‚" },
            { num: "02", name: "å¡µå°çš„ç´™ç®±", quote: "ä½ çš„å¤¢æƒ³æ²’æœ‰éæœŸï¼Œå®ƒåªæ˜¯åœ¨ç­‰ä½ ä¸æ€•é«’åœ°æŠŠå®ƒæ‰¾å‡ºä¾†ã€‚" },
            { num: "03", name: "å–®ç¨‹æ©Ÿç¥¨", quote: "æŠµé”çµ‚é»ä¸¦ä¸é›£ï¼Œé›£çš„æ˜¯é‚£è¸å‡ºçš„ç¬¬ä¸€æ­¥ã€‚" },
            { num: "04", name: "é›¨ä¸­çš„å´è‡‰", quote: "ç•¶ä½ ä¸å†æŒ‘å‰”è‡ªå·±ï¼Œæ‰æ˜¯çœŸæ­£ç¾éº—çš„é–‹å§‹ã€‚" },
            { num: "05", name: "è‹”æ¸…æ°´", quote: "å¿ƒéœä¸‹ä¾†ï¼Œç­”æ¡ˆå°±æœƒåƒç…™ä¸€æ¨£æµ®ç¾ã€‚" },
            { num: "06", name: "ç¬¬ä¸€æ”¯ç•«ç­†", quote: "ç•«å£äº†åˆæ€æ¨£ï¼Ÿäººç”Ÿé€™å¼µç´™ï¼Œæœ¬ä¾†å°±æ˜¯æ‹¿ä¾†å¡—é´‰çš„ã€‚" },
            { num: "07", name: "æ²³ç²‰èˆ‡æ¿å‡³", quote: "ç”Ÿæ´»çš„æ»‹å‘³ä¸åœ¨é«˜è™•ï¼Œè€Œåœ¨å……æ»¿ç…™ç«æ°£çš„è¡—é ­ã€‚" },
            { num: "08", name: "ç‡ˆç± ä¹‹æ²³", quote: "éš¨æ³¢é€æµä¸æ˜¯å£äº‹ï¼Œæœ‰æ™‚å€™æ°´æµæœƒå¸¶ä½ å»å°çš„åœ°æ–¹ã€‚" },
            { num: "09", name: "æ··äº‚çš„æ‘©æ‰˜", quote: "åœ¨æ··äº‚ä¸­ä¿æŒè‡ªå·±çš„ç¯€å¥ï¼Œèª°ä¹Ÿäº‚ä¸äº†ä½ ã€‚" },
            { num: "10", name: "æ‰‹ä½œçš„æ˜¥æ²", quote: "ä¸æ€•å¼„é«’é›™æ‰‹ï¼Œæ‰èƒ½å‰µé€ è‡ªå·±å–œæ­¡çš„æ±è¥¿ã€‚" },
            { num: "11", name: "çª—é‚Šçš„ç´ æ", quote: "åˆ¥åªé¡§è‘—è¶•è·¯ï¼Œè¨˜å¾—æŠŠé¢¨æ™¯æ”¶é€²å¿ƒè£¡ã€‚" },
            { num: "12", name: "å†°æ²³çš„è£‚ç¸«", quote: "è£‚ç¸«è®“ä½ çœ‹è¦‹äº†æ·±è™•ï¼Œçœ‹è¦‹çœŸæ­£çš„ä½ ã€‚" },
            { num: "13", name: "ä¼¸å‡ºçš„æ‰‹", quote: "æœ‰æ™‚å€™ï¼Œæ¥å—å¹«åŠ©æ¯”ç¨è‡ªå …å¼·éœ€è¦æ›´å¤§çš„å‹‡æ°£ã€‚" },
            { num: "14", name: "åŒæ­¥å‘¼å¸", quote: "æœ€å¥½çš„ä¼´ä¾¶ä¸æ˜¯æ‹‰è‘—ä½ èµ°ï¼Œè€Œæ˜¯èª¿æ•´å‘¼å¸èˆ‡ä½ ä¸¦è‚©ã€‚" },
            { num: "15", name: "å±±é ‚çš„æ¹–", quote: "åƒæ¹–æ°´ä¸€æ¨£å¹³éœä¸‹ä¾†ï¼Œä½ å°±èƒ½å€’æ˜ å‡ºçœŸå¯¦çš„è‡ªå·±ã€‚" },
            { num: "16", name: "çˆç«èˆ‡ç´…é…’", quote: "ä¿¡ä»»çš„èµ·é»ï¼Œæ˜¯é¡˜æ„å’Œä¸€å€‹äººéœéœå¾…è‘—ã€‚" },
            { num: "17", name: "å—åå­—æ˜Ÿ", quote: "è¿·è·¯çš„æ™‚å€™ï¼ŒæŠ¬é ­ï¼Œæ˜Ÿæ˜Ÿæœƒå‘Šè¨´ä½ æ–¹å‘ã€‚" },
            { num: "18", name: "å…¬è·¯é›»å½±", quote: "é‡è¦çš„ä¸æ˜¯å»å“ªè£¡ï¼Œè€Œæ˜¯èª°ååœ¨ä½ èº«æ—ã€‚" },
            { num: "19", name: "é¢¨å¹é–‹çš„ç•«æœ¬", quote: "é¡˜æ„è¢«çœ‹è¦‹çœŸæ­£çš„è‡ªå·±ï¼Œé‚£æ‰æ˜¯é—œä¿‚çš„é–‹å§‹ã€‚" },
            { num: "20", name: "ç´…æ‰å·¨äºº", quote: "åœ¨æ™‚é–“é¢å‰æˆ‘å€‘éƒ½å¾ˆæ¸ºå°ï¼Œæ‰€ä»¥åˆ¥æŠŠç…©æƒ±çœ‹å¾—å¤ªå¤§ã€‚" },
            { num: "21", name: "åœé›»çš„æœ¨å±‹", quote: "é»‘æš—ä¸å¯æ€•ï¼Œå®ƒåªæ˜¯åœ¨å‘Šè¨´ä½ ï¼Œä½ éœ€è¦ä¸€å€‹æ“æŠ±ã€‚" },
            { num: "22", name: "æ“æŠ±çš„æº«åº¦", quote: "çµ¦å‡ºä¸€å€‹æ“æŠ±ï¼Œé‚£æ˜¯æœ€ç¾çš„ç¦®ç‰©ã€‚" },
            { num: "23", name: "æœªå®Œæˆçš„åŸå ¡", quote: "å¤¢æƒ³ä¸éœ€è¦å®Œç¾ï¼Œæ®˜ç¼ºæœ¬èº«ä¹Ÿæ˜¯ä¸€ç¨®ç¾ã€‚" },
            { num: "24", name: "èƒ¡æ¡ƒé‰—å¨ƒå¨ƒ", quote: "å’Œè§£ä¸ä¸€å®šéœ€è¦åŸè«’ï¼Œæœ‰æ™‚å€™åªéœ€è¦ä¸€å€‹è½‰èº«ã€‚" },
            { num: "25", name: "ç¶­ç´æ–¯çš„å‡è¦–", quote: "ä½ ä¸éœ€è¦æˆç‚ºå¥³ç¥ï¼Œä½ åªéœ€è¦æˆç‚ºä½ è‡ªå·±ã€‚" },
            { num: "26", name: "ç©¹é ‚ä¹‹ä¸Š", quote: "èº«å¾Œæ˜¯ä»–äººçœ¼å…‰çš„åœ°ç„ï¼Œçœ¼å‰æ˜¯è‡ªæˆ‘å¯¬æ•çš„å¤©å ‚ã€‚" },
            { num: "27", name: "åŸºç£å±±çš„æ“æŠ±", quote: "å¼µé–‹é›™è‡‚ï¼Œä½ å·²ç¶“æº–å‚™å¥½æ“æŠ±ä¸–ç•Œäº†ã€‚" },
            { num: "28", name: "ç€‘å¸ƒçš„å°–å«", quote: "æƒ³å“­å°±å“­ï¼Œæƒ³å«å°±å«ï¼ŒæŠŠæƒ…ç·’æ²–åˆ·ä¹¾æ·¨å§ã€‚" },
            { num: "29", name: "å¤©ç©ºä¹‹é¡", quote: "ä½ ä¸éœ€è¦å°‹æ‰¾ç­”æ¡ˆäº†ï¼Œå› ç‚ºä½ å°±æ˜¯ç­”æ¡ˆæœ¬èº«ã€‚" },
            { num: "30", name: "é«˜åŸçš„è‰²å½©", quote: "ç”Ÿå‘½æœ¬è©²æ˜¯äº”å½©æ–‘æ–•çš„ï¼Œåˆ¥æ´»æˆé»‘ç™½çš„ã€‚" },
            { num: "31", name: "é›²ç«¯çš„å¤åŸ", quote: "èµ°éçš„è·¯éƒ½ä¸æœƒç™½è²»ï¼Œå®ƒå€‘æ˜¯ä½ ç™»é ‚çš„åŸºçŸ³ã€‚" },
            { num: "32", name: "æœªå®Œæˆçš„å·¨äºº", quote: "æœªå®Œæˆåˆæ€æ¨£ï¼Ÿé‚£ä»£è¡¨ä½ é‚„æ²’æœ‰çµæŸã€‚" },
            { num: "33", name: "è—ç™½ä¹‹é–“", quote: "å…è¨±è‡ªå·±ä»€éº¼éƒ½ä¸åšï¼Œé‚£ä¹Ÿæ˜¯ä¸€ç¨®ç”Ÿæ´»ã€‚" },
            { num: "34", name: "é¤å·¾ç´™ä¸Šçš„è²“", quote: "æ¯«ä¸è²»åŠ›çš„å¿«æ¨‚ï¼Œæ‰æ˜¯æœ€é«˜ç´šçš„è—è¡“ã€‚" },
            { num: "35", name: "æ··äº‚ä¸­çš„è²“", quote: "ä¸–ç•Œå†åµï¼Œä½ ä¹Ÿå¯ä»¥åƒè²“ä¸€æ¨£å„ªé›…åœ°è·¯éã€‚" },
            { num: "36", name: "ç†±æ°£çƒçš„æ™¨æ›¦", quote: "æ›å€‹é«˜åº¦çœ‹ä¸–ç•Œï¼ŒåŸæœ¬éä¸å»çš„åéƒ½è®Šæˆäº†é¢¨æ™¯ã€‚" },
            { num: "37", name: "åœ°ä¸‹åŸçš„å…‰", quote: "å³ä½¿åœ¨æœ€æ·±çš„åœ°åº•ï¼Œå…‰ä¹Ÿæœƒæ‰¾åˆ°ç¸«éš™é‘½é€²ä¾†ã€‚" },
            { num: "38", name: "æ®˜ç¼ºçš„åœ–æ›¸é¤¨", quote: "æ™‚é–“æœƒå¸¶èµ°å¤šé¤˜çš„è£é£¾ï¼Œç•™ä¸‹çš„æ‰æ˜¯æœ¬è³ªã€‚" },
            { num: "39", name: "å°¼ç¾…æ²³çš„é¢¨å¸†", quote: "ç”Ÿå‘½æ˜¯å¾ªç’°ï¼Œä»Šå¤©çš„æ—¥è½æ˜¯ç‚ºäº†æ˜å¤©çš„å‡èµ·ã€‚" },
            { num: "40", name: "æ²™æ¼ çš„æ˜Ÿç©º", quote: "åœ¨æ¥µè‡´çš„å®‰éœä¸­ï¼Œä½ æœƒè½è¦‹å…§å¿ƒçš„è²éŸ³ã€‚" },
            { num: "41", name: "å·¨åƒçš„å‡è¦–", quote: "å­˜åœ¨ï¼Œæœ¬èº«å°±æ˜¯æ„ç¾©ã€‚" },
            { num: "42", name: "æ¥µå…‰ä¸‹çš„ä¸¦è‚©", quote: "çœŸæ­£çš„æ„›ï¼Œæ˜¯ä¸¦è‚©çœ‹å‘åŒä¸€ç‰‡é¢¨æ™¯ã€‚" },
            { num: "43", name: "å…‰èˆ‡è¿´è²", quote: "å‚·ç—•ä¸æ˜¯ç”¨ä¾†é®æ©çš„ï¼Œæ˜¯éå»çš„ä½ ä¿®è£œæˆçš„æ¦®è€€ã€‚" },
            { num: "44", name: "æ–°çš„ç©ºç™½é ", quote: "çµå±€å·²ç¶“å¯«å¥½ï¼Œä½†æ–°çš„ç¯‡ç« æ‰æ­£è¦é–‹å§‹ã€‚" }
        ];
        
        let isDrawn = false;
        
        function getCardImage(num) {
            const ext = num === "41" ? "png" : "jpg";
            return `cards/No.${num}_ç‰Œå¡.${ext}`;
        }
        
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        function drawSingle() {
            if (isDrawn) return;
            isDrawn = true;
            
            const card = cards[Math.floor(Math.random() * cards.length)];
            
            document.getElementById('singleDisplay').classList.add('show');
            document.getElementById('threeDisplay').classList.remove('show');
            document.getElementById('singleImg').src = getCardImage(card.num);
            
            setTimeout(() => {
                document.getElementById('singleCard').classList.add('flipped');
                document.getElementById('singleNumber').textContent = `No.${card.num}`;
            }, 300);
            
            setTimeout(() => {
                const resultHtml = `
                    <div class="reading-item">
                        <p class="reading-name">No.${card.num} ${card.name}</p>
                        <p class="reading-quote">ã€Œ${card.quote}ã€</p>
                    </div>
                `;
                document.getElementById('readingResult').innerHTML = resultHtml;
                document.getElementById('readingResult').classList.add('show');
                document.getElementById('resetBtn').classList.add('show');
            }, 1000);
        }
        
        function drawThree() {
            if (isDrawn) return;
            isDrawn = true;
            
            const shuffled = shuffleArray(cards);
            const selected = shuffled.slice(0, 3);
            const positions = ['å•é¡Œ', 'å»ºè­°', 'è¡Œå‹•å¾Œèµ°å‘'];
            
            document.getElementById('threeDisplay').classList.add('show');
            document.getElementById('singleDisplay').classList.remove('show');
            
            selected.forEach((card, i) => {
                document.getElementById(`img${i + 1}`).src = getCardImage(card.num);
                
                setTimeout(() => {
                    document.getElementById(`card${i + 1}`).classList.add('flipped');
                    document.getElementById(`num${i + 1}`).textContent = `No.${card.num}`;
                }, 300 + (i * 400));
            });
            
            setTimeout(() => {
                let resultHtml = '';
                selected.forEach((card, i) => {
                    resultHtml += `
                        <div class="reading-item">
                            <p class="reading-position">${positions[i]}</p>
                            <p class="reading-name">No.${card.num} ${card.name}</p>
                            <p class="reading-quote">ã€Œ${card.quote}ã€</p>
                        </div>
                    `;
                });
                document.getElementById('readingResult').innerHTML = resultHtml;
                document.getElementById('readingResult').classList.add('show');
                document.getElementById('resetBtn').classList.add('show');
            }, 2000);
        }
        
        function resetAll() {
            isDrawn = false;
            
            document.getElementById('singleDisplay').classList.remove('show');
            document.getElementById('threeDisplay').classList.remove('show');
            document.getElementById('readingResult').classList.remove('show');
            document.getElementById('resetBtn').classList.remove('show');
            
            document.getElementById('singleCard').classList.remove('flipped');
            document.getElementById('card1').classList.remove('flipped');
            document.getElementById('card2').classList.remove('flipped');
            document.getElementById('card3').classList.remove('flipped');
            
            document.getElementById('singleNumber').textContent = '';
            document.getElementById('num1').textContent = '';
            document.getElementById('num2').textContent = '';
            document.getElementById('num3').textContent = '';
        }
        
        function openFullVersion() {
            const grid = document.getElementById('cardsGrid');
            grid.innerHTML = '';
            
            cards.forEach(card => {
                const div = document.createElement('div');
                div.className = 'grid-card';
                div.onclick = () => showCardDetail(card);
                div.innerHTML = `<img src="${getCardImage(card.num)}" alt="${card.name}">`;
                grid.appendChild(div);
            });
            
            document.getElementById('fullModal').classList.add('show');
        }
        
        function closeFullVersion() {
            document.getElementById('fullModal').classList.remove('show');
        }
        
        function showCardDetail(card) {
            document.getElementById('detailImg').src = getCardImage(card.num);
            document.getElementById('detailName').textContent = `No.${card.num} ${card.name}`;
            document.getElementById('detailQuote').textContent = `ã€Œ${card.quote}ã€`;
            document.getElementById('detailModal').classList.add('show');
        }
        
        function closeDetail() {
            document.getElementById('detailModal').classList.remove('show');
        }
        
        // é»æ“ŠèƒŒæ™¯é—œé–‰å½ˆçª—
        document.getElementById('fullModal').addEventListener('click', function(e) {
            if (e.target === this) closeFullVersion();
        });
        
        document.getElementById('detailModal').addEventListener('click', function(e) {
            if (e.target === this) closeDetail();
        });
    </script>
</body>
</html>
